JavaScript 处理数字分位符号
===

为了方便阅读小数点前后的数字可以被分组，由于国际上语言里最常见的数字读法是千位分位，写法的分组也是在千位数上。 如果当地习俗是用句点作小数点，千位的分号一般是逗号或空格。如果习俗里小数点是逗号，千位分号一般是句点或空格。由于可能产生歧义，国际标准建议、国际度量衡局更是要求用空格而不要用逗号或点。

我国的标准：为便于阅读，四位以上的整数或小数，可采用以下两种方式分节。

* 千分撇: 整数部分每三位一组，以 `,` 分节。小数部分不分节。四位以内的整数可以不分节。如：`624,000`、`92,300,000`、`19,351,235.235767`、`1256`
* 千分空: 从小数点起，向左和向右每三位数字一组，组间空四分之一个汉字，即二分之一个阿拉伯数字的位置。四位以内的整数可以不加千分空。

```js
function addCommas(val) {
    var aIntNum = val.toString().split('.');

    if (aIntNum[0].length >= 5) {
        aIntNum[0] = aIntNum[0].replace(/(\d)(?=(\d{3})+$)/g, '$1,');
    }

    if (aIntNum[1] && aIntNum[1].length >= 5) {
        aIntNum[1] = aIntNum[1].replace(/(\d{3})/g, '$1 ');
    }

    return aIntNum.join('.');
}

// 测试
addCommas(1234); // '1234'
addCommas(12345); // '12,345'
addCommas(123456); // '123,456'
addCommas(123456.4321); // '123,456.4321'
addCommas(123456.54321); // '123,456.543 21'
addCommas(123456.654321); // '123,456.654 321 '
```
